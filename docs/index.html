<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Dreaming in the Chinese Garden</title>

    <!-- Google Fonts for poem -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: #121212;
            color: #fff;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
        }

        video,
        img {
            border-radius: 10px;
        }

        .container {
            margin: 20px;
        }

        #sleepingVideoSection,
        #locationSection {
            display: none;
        }

        /* Flex layout for description | image | poem */
        .flex-row {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .description,
        .poem-container {
            max-width: 250px;
            text-align: left;
        }

        .poem {
            font-style: italic;
            font-family: 'Dancing Script', cursive;
            font-size: 1.2em;
            line-height: 1.6em;
        }

        .image-container {
            max-width: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-container img {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .buttons-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .action-button {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        .action-button:hover {
            background-color: #555;
        }

        /* Start screen */
        #startScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            cursor: pointer;
            font-size: 2em;
            z-index: 9999;
            color: #fff;
        }

        #startScreen:hover {
            color: #ffcc00;
        }
    </style>
</head>

<body>

    <!-- Start Screen -->
    <div id="startScreen" onclick="startExperience()">
        Click to Begin
    </div>

    <!-- Background music -->
    <audio id="bgMusic" loop>
        <source src="images/music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Sleeping video -->
    <div class="container" id="sleepingVideoSection">
        <video muted playsinline onended="showLocation(0)" controls>
            <source src="images/sleeping.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- Location Section -->
    <div class="container" id="locationSection">
        <h1 id="locationTitle"></h1>
        <div class="flex-row">
            <div class="description" id="locationDescription"></div>
            <div class="image-container">
                <img id="locationImage" src="" alt="">
            </div>
            <div class="poem-container">
                <div class="poem" id="locationPoem"></div>
            </div>
        </div>

        <div class="buttons-container">
            <button class="action-button" onclick="wakeUp()">Wake Up</button>
            <button class="action-button" onclick="prevLocation()">Previous</button>
            <button class="action-button" onclick="nextLocation()">Next</button>
        </div>
    </div>

    <script>
        // Define all 9 locations
        const locations = [
            {
                name: "Gate",
                image: "images/main_gate.png",
                description: "I woke to find myself in a serene Chinese garden. The morning mist hugged the curved roofs, lanterns swayed gently, and the air smelled of jasmine. A feeling of calm and wonder filled me, as if the book I read guided me here.",
                poem: "I slept, and drifted into dreams,\nWhere ponds reflected bamboo streams.\nInspired by the Craft of Gardens,\nEach stone and gate wove gentle themes."
            },
            {
                name: "Courtyard",
                image: "images/courtyard.png",
                description: "The courtyard was open and peaceful, surrounded by elegant arches and potted bonsai. Light filtered softly through the paper lanterns.",
                poem: "Stepping lightly on the stones,\nEchoes of silence and calm tones.\nA courtyard embraced my wandering mind,\nIn its stillness, peace I find."
            },
            {
                name: "Walkway",
                image: "images/walkway.png",
                description: "A narrow walkway lined with bamboo guided me deeper into the garden, each step resonating softly underfoot.",
                poem: "Bamboo sways and whispers low,\nAlong the path where footsteps go.\nA journey subtle, winding, clear,\nNature's voice I softly hear."
            },
            {
                name: "Pond",
                image: "images/pond.png",
                description: "A reflective pond mirrored the sky, koi swam lazily, and lotus flowers floated serenely.",
                poem: "Water glistens, calm and deep,\nLotus blooms in silence sleep.\nKoi dance gently, weaving grace,\nReflections glow upon their space."
            },
            {
                name: "Pavilion",
                image: "images/pavilion.png",
                description: "A quiet pavilion provided a space to pause, with wooden beams carved in delicate patterns.",
                poem: "Beneath the pavilion's roof,\nI found a moment, clear and proof.\nWood and stone in harmony,\nA tranquil pause, a gentle plea."
            },
            {
                name: "Grotto",
                image: "images/grotto.png",
                description: "A hidden grotto with moss-covered stones offered a mysterious charm.",
                poem: "In the grotto's quiet shade,\nSecrets of the garden laid.\nMoss and shadow, cool and deep,\nWhisper stories mine to keep."
            },
            {
                name: "Scholar",
                image: "images/scholar.png",
                description: "A scholar's study by the bamboo grove, filled with scrolls and ink brushes.",
                poem: "Scrolls of wisdom, ink so fine,\nLessons whispered through the pine.\nLearning flows with nature's hand,\nKnowledge blooms across the land."
            },
            {
                name: "Lattice",
                image: "images/lattice.png",
                description: "Intricate lattice work filtered sunlight in mesmerizing patterns.",
                poem: "Light through lattice softly gleams,\nShadows dance like fleeting dreams.\nPatterns woven, artful, free,\nA lattice frames serenity."
            },
            {
                name: "Bamboo Grove",
                image: "images/bamboo_grove.png",
                description: "Tall bamboo swayed gently, a whispering forest guiding me onward.",
                poem: "Bamboo towers, reaching high,\nLeaves converse with wind and sky.\nA grove of green, serene, profound,\nNature's breath, a gentle sound."
            }
        ];

        let currentIndex = 0;

        function startExperience() {
            document.getElementById('startScreen').style.display = 'none';
            const videoSection = document.getElementById('sleepingVideoSection');
            videoSection.style.display = 'block';
            const sleepingVideo = document.querySelector('#sleepingVideoSection video');
            sleepingVideo.play();
        }

        function showLocation(index) {
            currentIndex = index;
            document.getElementById('sleepingVideoSection').style.display = 'none';
            const locationSection = document.getElementById('locationSection');
            locationSection.style.display = 'block';

            const loc = locations[currentIndex];
            document.getElementById('locationTitle').innerText = loc.name;
            document.getElementById('locationImage').src = loc.image;
            document.getElementById('locationImage').alt = loc.name;
            document.getElementById('locationDescription').innerText = loc.description;
            document.getElementById('locationPoem').innerText = loc.poem;

            // Play music
            const bgMusic = document.getElementById('bgMusic');
            bgMusic.play().catch(() => {
                console.log("Music autoplay blocked; user interaction required.");
            });
        }

        function wakeUp() {
            showLocation(0);
        }

        function nextLocation() {
            let nextIndex = (currentIndex + 1) % locations.length;
            showLocation(nextIndex);
        }

        function prevLocation() {
            let prevIndex = (currentIndex - 1 + locations.length) % locations.length;
            showLocation(prevIndex);
        }
    </script>

</body>

</html>